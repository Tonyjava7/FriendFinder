<!DOCTYPE html>
<html lang="en">
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.8/js/materialize.min.js"></script>
    <title>Friend Finder</title>
</head>

<body>
    <div class='container'>
        <div class='card-panel blue col s12 center-align'>
            <h4><strong>Compatibility Questions</strong></h4>
            <div class='card-panel left-align white'>
                <h5>Your name and link to photo</h5>
                <input id="name" type="text" class="validate" required>
                <label class='active' for="name">Name (required)</label>
                <input id="photo" type="text" class="validate" required>
                <label class='active' for="name">Copy link to Photo (required)</label>
                <h5>Question 1</h5>
                <p>I am a creator and a dreamer.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 2</h5>
                <p>I have an idea a minute.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 3</h5>
                <p>I know how to formulate a strategy to implement my ideas / goals.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 4</h5>
                <p>I like to collaborate with people.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 5</h5>
                <p>I am generally leading the conversation in a group.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 6</h5>
                <p>I value constructive criticism.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 7</h5>
                <p>When confronted, I immediately retaliate.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 8</h5>
                <p>I know the meaning of life.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 9</h5>
                <p>I am a contributor to society.</p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <h5>Question 10</h5>
                <p>I like small cars and I cannot lie; while other people deny...global warming... JUST FOR FUN. </p>
                <select data-placeholder="" class="browser-default" id="q1">
                    <option value="">Choosefrom drop down</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
                <br>
                
                <button type ="submit" data-target="modal1" class="waves-effect waves-light btn modal-trigger " id="submitBtn">Submit</button>
            </div>
        </div>
        <div class='col s4'>
            <p><a href='/api/friends'>API Friends List</a> | <a href='https://github.com/Tonyjava7/FriendFinder' target='_blank'>GitHub Repo</a></p>
        </div>

        <div id="modal1" class="modal">
          <div class="modal-content">
            <h4>Meet the person who is just like you.</h4>
            <h5 id="matchName"></h5>
            <img id="matchPic" src="" alt="No Image" width = 250px>
          </div>
        <div class="modal-footer">
          <a href="#!" class=" modal-action modal-close waves-effect btn-flat">Done</a>
        </div>
      </div>

    </div>

<script type="text/javascript">
$(document).ready(function() {
    $("#submitBtn").on("click", function() {
        
        function validateForm() {
            var isValid = true;
            $('.validate').each(function() {
                if ($(this).val() === ''){
                    isValid = false;
                }
            });

            $('.browser-default').each(function() {
                if ($(this).val() === ""){
                    isValid = false;
                }
            });

            return isValid;
        }

        if (validateForm() == true) {
            var newFriend = {
                name: $('#name').val().trim(),
                profilePic: $('#photo').val().trim(),
                scores: [
                    $('#q1, #q2, #q3, #q4, #q5, #q6, #q7, #q8, #q9, #q10').val()
                ]
            };
            var currentURL = window.location.origin;

            $.post(currentURL + "/api/friends", newFriend, function(data) {
                 $("#matchName").text(data.name);
                $("#matchPic").attr("src", data.profilePic);

            });

                $('.modal').modal();


            $('#name, #photo, #q1, #q2, #q3, #q4, #q5, #q6, #q7, #q8, #q9, #q10').val("");
            
        } else {
            alert("Please fill out ALL fields!")
        }

    });
});
</script>
</body>

</html>
